(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{6707:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/analytics",function(){return n(6422)}])},8418:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){a=!0,l=c}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=void 0;var o,i=(o=n(7294))&&o.__esModule?o:{default:o},a=n(6273),c=n(387),s=n(7190);var u={};function f(e,t,n,r){if(e&&a.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var l=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[t+"%"+n+(l?"%"+l:"")]=!0}}var d=function(e){var t,n=!1!==e.prefetch,r=c.useRouter(),o=i.default.useMemo((function(){var t=l(a.resolveHref(r,e.href,!0),2),n=t[0],o=t[1];return{href:n,as:e.as?a.resolveHref(r,e.as):o||n}}),[r,e.href,e.as]),d=o.href,v=o.as,h=e.children,m=e.replace,p=e.shallow,g=e.scroll,y=e.locale;"string"===typeof h&&(h=i.default.createElement("a",null,h));var x=(t=i.default.Children.only(h))&&"object"===typeof t&&t.ref,w=l(s.useIntersection({rootMargin:"200px"}),2),b=w[0],j=w[1],N=i.default.useCallback((function(e){b(e),x&&("function"===typeof x?x(e):"object"===typeof x&&(x.current=e))}),[x,b]);i.default.useEffect((function(){var e=j&&n&&a.isLocalURL(d),t="undefined"!==typeof y?y:r&&r.locale,l=u[d+"%"+v+(t?"%"+t:"")];e&&!l&&f(r,d,v,{locale:t})}),[v,d,j,y,n,r]);var S={ref:N,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,n,r,l,o,i,c){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(n))&&(e.preventDefault(),null==i&&r.indexOf("#")>=0&&(i=!1),t[l?"replace":"push"](n,r,{shallow:o,locale:c,scroll:i}))}(e,r,d,v,m,p,g,y)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),a.isLocalURL(d)&&f(r,d,v,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var k="undefined"!==typeof y?y:r&&r.locale,E=r&&r.isLocaleDomain&&a.getDomainLocale(v,k,r&&r.locales,r&&r.domainLocales);S.href=E||a.addBasePath(a.addLocale(v,k,r&&r.defaultLocale))}return i.default.cloneElement(t,S)};t.default=d},7190:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){a=!0,l=c}finally{try{i||null==n.return||n.return()}finally{if(a)throw l}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,r=e.disabled||!a,s=o.useRef(),u=l(o.useState(!1),2),f=u[0],d=u[1],v=l(o.useState(t?t.current:null),2),h=v[0],m=v[1],p=o.useCallback((function(e){s.current&&(s.current(),s.current=void 0),r||f||e&&e.tagName&&(s.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=c.get(t);if(n)return n;var r=new Map,l=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return c.set(t,n={id:t,observer:l,elements:r}),n}(n),l=r.id,o=r.observer,i=r.elements;return i.set(e,t),o.observe(e),function(){i.delete(e),o.unobserve(e),0===i.size&&(o.disconnect(),c.delete(l))}}(e,(function(e){return e&&d(e)}),{root:h,rootMargin:n}))}),[r,h,n,f]);return o.useEffect((function(){if(!a&&!f){var e=i.requestIdleCallback((function(){return d(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[f]),o.useEffect((function(){t&&m(t.current)}),[t]),[p,f]};var o=n(7294),i=n(9311),a="undefined"!==typeof IntersectionObserver;var c=new Map},6422:function(e,t,n){"use strict";n.r(t);var r=n(5893),l=n(9008),o=n(7294),i=n(5170),a=n(2760);t.default=function(){var e=(0,o.useState)(0),t=e[0],n=e[1],c=(0,o.useState)(0),s=c[0],u=c[1],f=(0,o.useState)(0),d=f[0],v=f[1],h=(0,o.useState)(0),m=h[0],p=h[1],g=(0,a.RV)({onCompleted:function(e){var t={views:0,clicks:0};if(!e.fetchOverview)throw Error("Fetch Overview not found");e.fetchOverview.map((function(e){t.views+=e.views,t.clicks+=e.clicks})),e.fetchOverview.length>0&&(n(e.fetchOverview[e.fetchOverview.length-1].views),u(e.fetchOverview[e.fetchOverview.length-1].clicks)),v(t.views),p(t.clicks)}});return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(l.default,{children:(0,r.jsx)("title",{children:"Analytics - Singlelink"})}),(0,r.jsx)("h1",{className:"h1",children:"Analytics"}),g.data?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-3 w-full bg-white rounded-lg shadow p-6 flex flex-col",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium",children:"Click-through rate (CTR)"}),(0,r.jsx)("div",{className:"font-semibold text-3xl mt-2 text-indigo-600",children:d>1?"".concat((m/d*100).toFixed(2)," %"):"N/A"})]}),(0,r.jsxs)("div",{className:"w-full grid grid-cols-1 2xl:grid-cols-2 gap-3 mb-3",children:[(0,r.jsxs)("div",{className:"w-full bg-white rounded-lg shadow p-6 flex flex-col",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium",children:"Today's views"}),(0,r.jsx)("div",{className:"font-semibold text-3xl mt-2 text-indigo-600",children:(null!==t&&void 0!==t?t:0).toLocaleString("en-US")})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium",children:"Today's clicks"}),(0,r.jsx)("div",{className:"font-semibold text-3xl mt-2 text-indigo-600",children:(null!==s&&void 0!==s?s:0).toLocaleString("en-US")})]})]}),(0,r.jsxs)("div",{className:"w-full grid grid-cols-1 2xl:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"w-full bg-white rounded-lg shadow p-6 flex flex-col",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium",children:"Weekly views"}),(0,r.jsx)("div",{className:"font-semibold text-3xl mt-2 text-indigo-600",children:(null!==d&&void 0!==d?d:0).toLocaleString("en-US")})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 flex flex-col",children:[(0,r.jsx)("div",{className:"text-gray-600 font-medium",children:"Weekly clicks"}),(0,r.jsx)("div",{className:"font-semibold text-3xl mt-2 text-indigo-600",children:(null!==m&&void 0!==m?m:0).toLocaleString("en-US")})]})]})]}):(0,r.jsx)("div",{className:"p-3 text-gray-600",children:"Loading, please wait..."})]})}},1664:function(e,t,n){e.exports=n(8418)}},function(e){e.O(0,[653,376,774,888,179],(function(){return t=6707,e(e.s=t);var t}));var t=e.O();_N_E=t}]);