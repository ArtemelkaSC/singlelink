(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7237:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return e(9729)}])},2760:function(n,t,e){"use strict";e.d(t,{YA:function(){return j},Mp:function(){return P},aN:function(){return N},s2:function(){return S},m4:function(){return _},Kv:function(){return D},V5:function(){return C},_3:function(){return A},RV:function(){return q}});var r=e(9989),i=e(319),o=e(1641);function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){u(n,t,e[t])}))}return n}function a(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function s(){var n=a(["\n    mutation login($password: String!) {\n  login(password: $password)\n}\n    "]);return s=function(){return n},n}function l(){var n=a(["\n    mutation verify($jwt: String!) {\n  verify(jwt: $jwt)\n}\n    "]);return l=function(){return n},n}function d(){var n=a(["\n    mutation createLink($label: String, $content: String, $type: String!) {\n  createLink(label: $label, content: $content, type: $type) {\n    id\n    label\n    content\n    type\n    position\n  }\n}\n    "]);return d=function(){return n},n}function f(){var n=a(["\n    mutation updateLinkById($label: String, $content: String, $id: Int!, $position: Int!, $type: String!) {\n  updateLinkById(\n    label: $label\n    content: $content\n    id: $id\n    position: $position\n    type: $type\n  ) {\n    id\n    label\n    content\n    type\n    position\n  }\n}\n    "]);return f=function(){return n},n}function v(){var n=a(["\n    mutation deleteLinkById($id: Int!) {\n  deleteLinkById(id: $id) {\n    id\n    label\n    content\n    type\n    position\n  }\n}\n    "]);return v=function(){return n},n}function p(){var n=a(["\n    mutation reorderLink($id: Int!, $newIndex: Int!, $oldIndex: Int!) {\n  reorderLink(id: $id, newIndex: $newIndex, oldIndex: $oldIndex) {\n    label\n    content\n    id\n    position\n    type\n  }\n}\n    "]);return p=function(){return n},n}function y(){var n=a(["\n    mutation createEvent($type: EVENT_TYPE) {\n  createEvent(type: $type) {\n    id\n    type\n    created_at\n  }\n}\n    "]);return y=function(){return n},n}function g(){var n=a(["\n    query hello {\n  hello\n}\n    "]);return g=function(){return n},n}function b(){var n=a(["\n    query listLinks {\n  listLinks {\n    id\n    label\n    content\n    type\n    position\n  }\n}\n    "]);return b=function(){return n},n}function h(){var n=a(["\n    query findLinkById($id: Int!) {\n  findLinkById(id: $id) {\n    id\n    label\n    content\n    type\n    position\n  }\n}\n    "]);return h=function(){return n},n}function w(){var n=a(["\n    query fetchOverview {\n  fetchOverview {\n    views\n    clicks\n    date\n  }\n}\n    "]);return w=function(){return n},n}var m,x={};!function(n){n.Click="click",n.View="view"}(m||(m={}));var $=(0,r.Ps)(s());function j(n){var t=c({},x,n);return i.D($,t)}var k=(0,r.Ps)(l());function P(n){var t=c({},x,n);return i.D(k,t)}var I=(0,r.Ps)(d());function N(n){var t=c({},x,n);return i.D(I,t)}var O=(0,r.Ps)(f());function S(n){var t=c({},x,n);return i.D(O,t)}var L=(0,r.Ps)(v());function _(n){var t=c({},x,n);return i.D(L,t)}var E=(0,r.Ps)(p());function D(n){var t=c({},x,n);return i.D(E,t)}(0,r.Ps)(y());(0,r.Ps)(g());var B=(0,r.Ps)(b());function C(n){var t=c({},x,n);return o.a(B,t)}var R=(0,r.Ps)(h());function A(n){var t=c({},x,n);return o.a(R,t)}var T=(0,r.Ps)(w());function q(n){var t=c({},x,n);return o.a(T,t)}},9729:function(n,t,e){"use strict";e.r(t);var r=e(4051),i=e.n(r),o=e(5893),u=e(9008),c=e(1163),a=e(7294),s=e(2760);function l(n,t,e,r,i,o,u){try{var c=n[o](u),a=c.value}catch(s){return void e(s)}c.done?t(a):Promise.resolve(a).then(r,i)}t.default=function(){var n=(0,c.useRouter)(),t=(0,a.useState)(""),e=t[0],r=t[1],d=(0,s.YA)({fetchPolicy:"network-only",onCompleted:function(){var t,e=(t=i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.login)){t.next=8;break}return console.log("data"),console.log(e.login),t.next=5,localStorage.setItem("jwt",e.login);case 5:return t.abrupt("return",n.push("/dashboard"));case 8:console.log("else"),console.log(e);case 9:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function u(n){l(o,r,i,u,c,"next",n)}function c(n){l(o,r,i,u,c,"throw",n)}u(void 0)}))});return function(n){return e.apply(this,arguments)}}()});(0,a.useEffect)((function(){localStorage.getItem("jwt")&&n.push("/dashboard")}));return(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center w-full min-h-screen bg-gray-100",children:[(0,o.jsxs)(u.default,{children:[(0,o.jsx)("title",{children:"Login - BRAND"}),(0,o.jsx)("meta",{name:"description",content:"Login to your Singlelink dashboard."}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center w-full max-w-md p-8 rounded-xl bg-white shadow",children:[(0,o.jsx)("div",{className:"mb-6",style:{width:44},children:"LOGO"}),(0,o.jsx)("h1",{className:"font-semibold text-2xl mb-4",children:"Login to your BRAND"}),(0,o.jsx)("p",{className:" mb-6 text-gray-600",children:"Enter your credentials to access your account"}),(0,o.jsx)("input",{value:e,onChange:function(n){return r(n.target.value)},className:"mb-4 px-5 py-3 rounded-lg border border-gray-200 w-full bg-white focus:ring-4 focus:ring-opacity-50 focus:ring-indigo-600 outline-0 ring-offset-2 focus:border-gray-1",type:"password",placeholder:"Password"}),(0,o.jsx)("button",{onClick:function(){d[0]({variables:{password:e}})},className:"px-8 py-4 text-xl bg-indigo-600 w-full text-white font-semibold rounded-xl hover:bg-indigo-700",children:"Log in"})]}),(0,o.jsxs)("div",{onClick:function(){alert("To reset your password, change the environment variable for PASSWORD in your SSH or terminal and restart your application.")},className:"text-gray-600 mt-12",children:["Forgot your password?",(0,o.jsx)("a",{className:"ml-2 text-indigo-600 font-semibold hover:underline hover:text-indigo-700 cursor-pointer",children:"Reset password"})]}),(0,o.jsxs)("div",{className:"text-gray-600 mt-4 text-xs",children:["Copyright \xa9",(new Date).getFullYear()]})]})}},1163:function(n,t,e){n.exports=e(387)}},function(n){n.O(0,[653,774,888,179],(function(){return t=7237,n(n.s=t);var t}));var t=n.O();_N_E=t}]);